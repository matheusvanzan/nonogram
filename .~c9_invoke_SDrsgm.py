from lib import *

if __name__ == '__main__':
    
    start = datetime.now()
    
    # Teste
    # n = 5

    # grid = []
    # while not valid_grid(grid):
    #     grid = create_grid(n)
        
    # print_grid(grid)
    
    # lines = get_counts(grid)
    # cols = get_counts(transpose_grid(grid))
    
    # Real

    # 5
    # lines = [ [1, 2], [1, 1, 1], [3], [1, 1], [3] ]
    # cols =[ [2, 1], [1], [3, 1], [1, 1, 1], [3] ]

    # 10
    # lines = [ [6], [3, 1], [1, 2], [2, 3], [6], [4], [5], [2, 4], [2, 4, 1], [3, 6] ]
    # cols = [ [1], [1, 3, 3], [2, 7], [2, 3], [2, 7], [1, 8], [5, 4], [3], [1], [2] ]
    
    # 10
    # lines = [ [5], [4], [6], [7], [1, 5], [5], [1, 5, 2], [6, 2], [1, 2], [1, 2] ]
    # cols = [ [1], [1], [5, 4], [4, 2], [4, 2], [8], [1, 6], [4], [7], [6] ]
    
    # 15
    # lines = [ [7], [9], [2, 4, 2], [2, 2], [2, 1, 1, 2], [3, 2], [2, 2], [3, 3, 1], [9, 1], [9, 1], [11, 2], [15], [14], [2, 3, 2], [1, 1, 1, 1, 1, 1, 1] ]
    # cols = [ [4], [6, 4], [12, 1], [2, 1, 6], [2, 5, 1], [3, 1, 6], [3, 7], [3, 6], [3, 1, 5, 1], [2, 6], [12, 1], [6, 4], [4], [3], [5] ]

    # 20 
    # lines = [ [6], [2, 9], [6, 1, 1, 1], [4, 1, 5], [2, 5], [1, 1, 4], [2, 4, 2, 3], [3, 3, 1, 4], [2, 2, 2, 4], [1, 1, 2, 3], [4, 2, 3, 3], [2, 2, 2, 1, 2], [1, 1, 2, 3, 1], [2, 1, 3, 2, 1], [3, 2, 2, 2, 3], [5, 2, 2, 3], [5, 2, 2, 2], [7, 3, 5], [1, 3, 9], [3, 9] ]
    # cols = [ [6], [2, 2, 2], [1, 1, 1], [2, 2, 2, 2], [5, 3, 1], [4, 1, 3, 1], [3, 2, 4, 1], [2, 3, 8], [2, 3, 3], [3, 2, 2], [2, 1, 1, 2], [3, 7], [2, 2, 3, 4], [3, 9, 3], [2, 1, 3, 3, 2], [1, 2, 3, 5], [1, 6, 2, 3], [9, 4, 3], [9, 6], [2, 13] ]

    # 20
    lines = [ [5], [4], [3, 3], [7, 2], [8, 2], [2, 3, 5], [10], [9, 5], [11, 3], [3, 3, 3, 3], [2, 5, 3, 2], [2, 2, 5, 1], [1, 2, 2, 3], [2, 3, 3], [3, 2, 2], [2, 2, 2], [2, 1], [3], [3], [3] ]
    cols = [ [1], [3], [2, 3], [3, 5], [3, 3, 3], [1, 3, 2, 6], [1, 2, 2, 8], [2, 3, 2, 5], [2, 8], [3, 6, 1], [4, 5, 3], [7, 5], [5, 3], [2, 4], [3, 5, 2], [3, 6], [3, 3], [4], [5], [2] ]

    # Solve
    n = len(lines)
    grid, count = solve_grid(n, lines, cols)
    print_grid(grid)
    print('Tabela convergiu em {} iterações!'.format(count))
    
    
    end = datetime.now()
    print(end-start)



